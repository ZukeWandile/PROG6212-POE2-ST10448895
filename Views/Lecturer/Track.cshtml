@model ST10448895_CMCS_PROG.Models.ClaimModel

@{
    ViewData["Title"] = "Track Claim";
}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4>Track Claim #@Model.Id</h4>
                </div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6>Claim Details</h6>
                            <p><strong>Description:</strong> @Model.Description</p>
                            <p><strong>Hours:</strong> @Model.HoursWorked</p>
                            <p><strong>Rate:</strong> @Model.HourlyRate.ToString("C")</p>
                            <p><strong>Total:</strong> @Model.TotalAmount.ToString("C")</p>
                            <p><strong>Submitted:</strong> @Model.SubmitDate.ToString("dd MMMM yyyy")</p>
                        </div>
                        <div class="col-md-6">
                            <h6>Status Progress</h6>
                            <div class="progress-status">
                                <div class="status-item @(Model.Status == "Submitted" || Model.Verified || Model.Approved ? "completed" : "")">
                                    <span>✓</span> Submitted
                                </div>
                                <div class="status-item @(Model.Verified || Model.Approved ? "completed" : "")">
                                    <span>@(Model.Verified ? "✓" : "○")</span> Coordinator Review
                                </div>
                                <div class="status-item @(Model.Approved ? "completed" : "")">
                                    <span>@(Model.Approved ? "✓" : "○")</span> Manager Approval
                                </div>
                                <div class="status-item @(Model.Status == "Approved" ? "completed" : "")">
                                    <span>@(Model.Status == "Approved" ? "✓" : "○")</span> Complete
                                </div>
                            </div>

                            <div class="mt-3">
                                <strong>Current Status:</strong>
                                @if (Model.Status == "Approved")
                                {
                                    <span class="badge bg-success">APPROVED</span>
                                }
                                else if (Model.Status == "Under Review")
                                {
                                    <span class="badge bg-warning">UNDER REVIEW</span>
                                }
                                else
                                {
                                    <span class="badge bg-secondary">@Model.Status.ToUpper()</span>
                                }
                            </div>
                        </div>
                    </div>

                    <div class="text-center">
                        <a asp-action="Index" class="btn btn-primary">Back to Claims</a>
                        <a asp-action="Documents" asp-route-claimId="@Model.Id" class="btn btn-secondary">Manage Documents</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .progress-status {
        list-style: none;
        padding: 0;
    }

    .status-item {
        padding: 8px 0;
        opacity: 0.5;
    }

        .status-item.completed {
            opacity: 1;
            font-weight: bold;
            color: #28a845;
        }

        .status-item span {
            margin-right: 10px;
        }
</style>